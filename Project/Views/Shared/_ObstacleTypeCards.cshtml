@using Gruppe4NLA.Models
@model (string Name, ReportModel.DangerType? Selected)

@{
    var selectedVal = Model.Selected ?? ReportModel.DangerType.PowerLine;
}

<style>
    .obstacle-grid {
        display: grid;
        grid-template-columns: repeat(4, minmax(140px, 1fr));
        gap: 1rem;
    }

    .obstacle-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: .5rem;
        padding: 24px;
        border: 2px solid #ced4da;
        border-radius: 16px;
        cursor: pointer;
        user-select: none;
        text-align: center;
        height: 160px;
        transition: all 0.2s ease-in-out;
        box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        background-color: #fff;
    }

        .obstacle-card:hover {
            transform: scale(1.03);
            border-color: #0d6efd;
        }

    .btn-check:checked + .obstacle-card {
        outline: 4px solid #0d6efd;
        box-shadow: 0 0 14px rgba(13,110,253,0.35);
        background-color: #e8f1ff;
    }

    .obstacle-icon {
        width: 64px;
        height: 64px;
        display: block;
        object-fit: contain;
    }
</style>

<div class="row row-cols-2 row-cols-md-4 g-3 obstacle-grid">
    <div class="col">
        <input type="radio" class="btn-check" name="@Model.Name" id="@Model.Name-typePowerLine"
               value="@((int)ReportModel.DangerType.PowerLine)"
               @(selectedVal == ReportModel.DangerType.PowerLine ? "checked" : null)>
        <label class="obstacle-card" for="@Model.Name-typePowerLine" aria-label="PowerLine">
            <img src="~/Content/Images/obstacles/powerline.svg" asp-append-version="true" class="obstacle-icon" alt="">
            <span>PowerLine</span>
        </label>
    </div>

    <div class="col">
        <input type="radio" class="btn-check" name="@Model.Name" id="@Model.Name-typePole"
               value="@((int)ReportModel.DangerType.Pole)"
               @(selectedVal == ReportModel.DangerType.Pole ? "checked" : null)>
        <label class="obstacle-card" for="@Model.Name-typePole" aria-label="Pole">
            <img src="~/Content/Images/obstacles/pole.svg" asp-append-version="true" class="obstacle-icon" alt="">
            <span>Pole</span>
        </label>
    </div>

    <div class="col">
        <input type="radio" class="btn-check" name="@Model.Name" id="@Model.Name-typeConstruction"
               value="@((int)ReportModel.DangerType.Construction)"
               @(selectedVal == ReportModel.DangerType.Construction ? "checked" : null)>
        <label class="obstacle-card" for="@Model.Name-typeConstruction" aria-label="Construction">
            <img src="~/Content/Images/obstacles/construction.svg" asp-append-version="true" class="obstacle-icon" alt="">
            <span>Construction</span>
        </label>
    </div>

    <div class="col">
        <input type="radio" class="btn-check" name="@Model.Name" id="@Model.Name-typeOther"
               value="@((int)ReportModel.DangerType.Other)"
               @(selectedVal == ReportModel.DangerType.Other ? "checked" : null)>
        <label class="obstacle-card" for="@Model.Name-typeOther" aria-label="Other">
            <img src="~/Content/Images/obstacles/other.svg" asp-append-version="true" class="obstacle-icon" alt="">
            <span>Other</span>
        </label>
    </div>
</div>
